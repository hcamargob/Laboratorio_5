import rospy
import math
from std_msgs.msg import String
from sensor_msgs.msg import JointState
from trajectory_msgs.msg import JointTrajectory, JointTrajectoryPoint

home=[[-0.0000,-0.8353,-1.5220,0.9262,-0.000]]

tomar_marcador=[[-0.0000,-0.8353,-1.5220,0.9262,0.000],
[-0.0000,-0.6509,-2.0074,1.2272,0.000],
[-0.0000,-0.6045,-2.1680,1.3413,0.000],
[-0.0000+0.39,-0.6045,-2.1680,1.3413,0.000],
[-0.0000+2*0.39,-0.6045,-2.1680,1.3413,0.000],
[-0.0000+3*0.39,-0.6045,-2.1680,1.3413,0.000],
[-0.0000+3*0.39+0.31,-0.6045,-2.1680,1.3413,0.000],
[1.3837,-0.3865,-3.0945,2.0499,-0.0000],
[1.3837,1.3861,-2.9650,0.1478,-0.0000],
[1.3653,1.4605,-2.9676,0.0759,-0.0000],
[1.3475,1.5381,-2.9693,0.0001,-0.0000],
[1.3302,1.6178,-2.9699,-0.0790,-0.0000],
[1.3134,-1.4430,-2.9695,2.9813,-0.0000],
[1.2970,-1.3621,-2.9678,2.8988,-0.0000],
[1.2812,-1.2826,-2.9650,2.8164,-0.0000],
[1.2658,-1.2053,-2.9610,2.7352,-0.0000],
[1.2508,-1.1314,-2.9558,2.6561,-0.0000],
[1.2363,-1.0616,-2.9494,2.5799,-0.0000],
[1.2222,-0.9964,-2.9420,2.5073,-0.0000],
[1.2085,-0.9361,-2.9336,2.4385,-0.0000],
[1.1952,-0.8807,-2.9243,2.3739,-0.0000],
[1.1823,-0.8302,-2.9141,2.3132,-0.0000],
[1.1697,-0.7845,-2.9032,2.2565,-0.0000],
[1.1575,-0.7432,-2.8915,2.2036,-2.0000],
[1.1457,-0.7061,-2.8792,2.1542,-2.0000],
[1.1457,-0.1987,-2.9380,1.7055,-2.0000],
[-0.0000,-0.7607,-1.5402,0.8698,-2.0000]]

espacio_trabajo=[[-0.0000,-0.8353,-1.5220,0.9262,-2.000],
[-0.0000,-0.6509,-2.0074,1.2272,-2.000],
[-0.0000,-0.6045,-2.1680,1.3413,-2.000],
[-0.0000+0.39,-0.6045,-2.1680,1.3413,-2.000],
[-0.0000+2*0.39,-0.6045,-2.1680,1.3413,-2.000],
[-0.0000+3*0.39,-0.6045,-2.1680,1.3413,-2.000],
[-0.0000+4*0.39,-0.6045,-2.1680,1.3413,-2.000],
[1.5657,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-2*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-3*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-4*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-5*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-6*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-7*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-8*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-9*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-10*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-11*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[1.5657-12*0.26,-0.9352,-2.0415,1.5455,-2.0000],
[-1.5708,-0.6045,-2.1680,1.3413,-2.0000],
[-1.5708+0.39,-0.6045,-2.1680,1.3413,-2.0000],
[-1.5708+2*0.39,-0.6045,-2.1680,1.3413,-2.0000],
[-1.5708+3*0.39,-0.6045,-2.1680,1.3413,-2.0000],
[-1.5708+4*0.39,-0.6045,-2.1680,1.3413,-2.0000],
[-0.0000,-0.8353,-1.5220,0.9262,-2.000],

[-0.0000,-1.2370+12*math.pi/180,-0.5877,0.3935+8*math.pi/180,-2.0000],
[-0.0000+0.375,-1.2370,-0.5877,0.3935+15*math.pi/180,-2.0000],
[-0.0000+2*0.375,-1.2370,-0.5877,0.3935+15*math.pi/180,-2.0000],
[-0.0000+3*0.375,-1.2370,-0.5877,0.3935+15*math.pi/180,-2.0000],
[-0.0000+4*0.375,-1.2370,-0.5877,0.3935+15*math.pi/180,-2.0000],
[1.42,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-2*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-3*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-4*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-5*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-6*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-7*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-8*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-9*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-10*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-11*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-12*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-13*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[1.42-14*0.2,-1.5428,-0.3135,0.4251+14*math.pi/180,-2.0000],
[-0.0000-4*0.375,-1.2370,-0.5877,0.3935+15*math.pi/180,-2.0000],
[-0.0000-3*0.375,-1.2370,-0.5877,0.3935+15*math.pi/180,-2.0000],
[-0.0000-2*0.375,-1.2370,-0.5877,0.3935+15*math.pi/180,-2.0000],
[-0.0000-0.375,-1.2370,-0.5877,0.3935+15*math.pi/180,-2.0000],
[-0.0000,-1.2370+12*math.pi/180,-0.5877,0.3935+8*math.pi/180,-2.0000],
[-0.0000,-0.8353,-1.5220,0.9262,-2.000]]

letras=[[-0.6219,-0.9622,-1.1061,0.6371,-2.0000],
[-0.6219,-1.2517,-0.9580,0.7786,-2.0000],
[-0.5969,-1.2622,-0.9333,0.7643,-2.0000],
[-0.5722,-1.2745,-0.9043,0.7476,-2.0000],
[-0.5734,-1.2738,-0.9058,0.7484,-2.0000],
[-0.5317,-1.2568,-0.9459,0.7716,-2.0000],
[-0.5059,-1.1851,-1.1210,0.8748,-2.0000],
[-0.5128,-1.1141,-1.3063,0.9892,-2.0000],
[-0.5507,-1.0803,-1.4010,1.0502,-2.0000],
[-0.5898,-1.0494,-1.4932,1.1114,-2.0000],
[-0.5987,-1.0054,-1.6393,1.2135,-2.0000],
[-0.5679,-0.9769,-1.7509,1.2966,-2.0000],
[-0.5169,-0.9736,-1.7654,1.3078,-2.0000],
[-0.4863,-0.9787,-1.7430,1.2906,-2.0000],
[-0.4564,-0.9847,-1.7180,1.2716,-2.0000],
[-0.4564,-0.6260,-1.8480,1.0428,-2.0000],
[-0.8061,-0.9205,-1.1944,0.6837,-2.0000],
[-0.8061,-1.2122,-1.0535,0.8346,-2.0000],
[-0.8026,-1.1311,-1.2603,0.9603,-2.0000],
[-0.7988,-1.0671,-1.4397,1.0757,-2.0000],
[-0.7946,-1.0163,-1.6007,1.1859,-2.0000],
[-0.7899,-0.9775,-1.7481,1.2944,-2.0000],
[-0.7886,-0.7914,-1.8351,1.1953,-2.0000],
[-0.7969,-0.8926,-1.5473,1.0088,-2.0000],
[-0.7969,-1.0585,-1.4655,1.0928,-2.0000],
[-0.8391,-1.0557,-1.4739,1.0984,-2.0000],
[-0.8815,-1.0549,-1.4764,1.1001,-2.0000],
[-0.9238,-1.0560,-1.4730,1.0979,-2.0000],
[-0.9660,-1.0590,-1.4639,1.0917,-2.0000],
[-0.9670,-0.8952,-1.5406,1.0047,-2.0000],
[-0.9607,-1.0793,-1.0968,0.7450,-2.0000],
[-0.9607,-1.2331,-1.0027,0.8046,-2.0000],
[-0.9646,-1.1474,-1.2174,0.9337,-2.0000],
[-0.9689,-1.0801,-1.4017,1.0506,-2.0000],
[-0.9736,-1.0266,-1.5661,1.1616,-2.0000],
[-0.9789,-0.9852,-1.7161,1.2701,-2.0000],
[-0.9779,-0.6251,-1.8500,1.0440,-2.0000],
[-0.0000,-0.7607,-1.5402,0.8698,-2.0000]]

figuras=[[-0.1011,-0.9566,-1.1177,0.6432,-2.0000],
[-0.1011,-1.2464,-0.9707,0.7860,-2.0000],
[-0.1277,-1.2214,-1.0310,0.8213,-2.0000],
[-0.1549,-1.1996,-1.0847,0.8531,-2.0000],
[-0.1827,-1.1805,-1.1325,0.8818,-2.0000],
[-0.2111,-1.1637,-1.1751,0.9077,-2.0000],
[-0.2400,-1.1491,-1.2129,0.9308,-2.0000],
[-0.2400,-1.1491,-1.2129,0.9308,-2.0000],
[-0.2176,-1.1176,-1.2968,0.9832,-2.0000],
[-0.1942,-1.0897,-1.3741,1.0327,-2.0000],
[-0.1699,-1.0651,-1.4457,1.0796,-2.0000],
[-0.1445,-1.0433,-1.5123,1.1244,-2.0000],
[-0.1181,-1.0242,-1.5742,1.1672,-2.0000],
[-0.1181,-1.0242,-1.5742,1.1672,-2.0000],
[-0.1161,-1.0396,-1.5239,1.1324,-2.0000],
[-0.1143,-1.0563,-1.4720,1.0972,-2.0000],
[-0.1124,-1.0743,-1.4184,1.0615,-2.0000],
[-0.1107,-1.0937,-1.3628,1.0254,-2.0000],
[-0.1089,-1.1145,-1.3051,0.9885,-2.0000],
[-0.1073,-1.1369,-1.2450,0.9507,-2.0000],
[-0.1057,-1.1611,-1.1820,0.9119,-2.0000],
[-0.1041,-1.1871,-1.1157,0.8717,-2.0000],
[-0.1026,-1.2155,-1.0456,0.8299,-2.0000],
[-0.1011,-1.2464,-0.9707,0.7860,-2.0000],
[-0.1011,-0.9566,-1.1177,0.6432,-2.0000],
[-0.0000,-0.5529,-2.0276,1.1493,-2.0000],
[-0.0000,-0.9497,-1.8903,1.4088,-2.0000],
[-0.0189,-0.9504,-1.8857,1.4049,-2.0000],
[-0.0368,-0.9526,-1.8721,1.3935,-2.0000],
[-0.0528,-0.9564,-1.8500,1.3752,-2.0000],
[-0.0663,-0.9620,-1.8202,1.3511,-2.0000],
[-0.0766,-0.9695,-1.7839,1.3222,-2.0000],
[-0.0835,-0.9789,-1.7424,1.2901,-2.0000],
[-0.0868,-0.9899,-1.6972,1.2560,-2.0000],
[-0.0865,-1.0024,-1.6501,1.2213,-2.0000],
[-0.0829,-1.0158,-1.6028,1.1874,-2.0000],
[-0.0762,-1.0293,-1.5572,1.1553,-2.0000],
[-0.0668,-1.0424,-1.5151,1.1264,-2.0000],
[-0.0551,-1.0543,-1.4784,1.1015,-2.0000],
[-0.0417,-1.0641,-1.4486,1.0815,-2.0000],
[-0.0269,-1.0713,-1.4271,1.0673,-2.0000],
[-0.0113,-1.0755,-1.4151,1.0594,-2.0000],
[0.0047,-1.0762,-1.4130,1.0580,-2.0000],
[0.0205,-1.0735,-1.4209,1.0632,-2.0000],
[0.0357,-1.0675,-1.4386,1.0749,-2.0000],
[0.0497,-1.0586,-1.4651,1.0925,-2.0000],
[0.0622,-1.0475,-1.4991,1.1154,-2.0000],
[0.0726,-1.0349,-1.5391,1.1428,-2.0000],
[0.0804,-1.0214,-1.5835,1.1737,-2.0000],
[0.0854,-1.0079,-1.6303,1.2070,-2.0000],
[0.0871,-0.9950,-1.6777,1.2416,-2.0000],
[0.0853,-0.9833,-1.7239,1.2761,-2.0000],
[0.0799,-0.9732,-1.7672,1.3092,-2.0000],
[0.0710,-0.9649,-1.8058,1.3396,-2.0000],
[0.0588,-0.9585,-1.8385,1.3658,-2.0000],
[0.0437,-0.9540,-1.8639,1.3867,-2.0000],
[0.0265,-0.9511,-1.8811,1.4010,-2.0000],
[0.0079,-0.9498,-1.8895,1.4081,-2.0000],
[-0.0000,-0.5529,-2.0276,1.1493,-2.0000],
[0.1788,-0.8545,-1.3355,0.7588,-2.0000],
[0.1788,-1.1532,-1.2024,0.9244,-2.0000],
[0.1634,-1.0928,-1.3653,1.0270,-2.0000],
[0.1467,-1.0436,-1.5113,1.1238,-2.0000],
[0.1283,-1.0039,-1.6446,1.2173,-2.0000],
[0.1283,-0.6580,-1.7729,0.9997,-2.0000],
[0.2522,-0.8857,-1.2685,0.7230,-2.0000],
[0.2522,-1.1806,-1.1321,0.8816,-2.0000],
[0.2402,-1.1138,-1.3072,0.9898,-2.0000],
[0.2271,-1.0595,-1.4624,1.0907,-2.0000],
[0.2127,-1.0156,-1.6034,1.1878,-2.0000],
[0.2127,-0.6761,-1.7310,0.9759,-2.0000],
[0.3229,-0.9298,-1.1746,0.6732,-2.0000],
[0.3229,-1.2209,-1.0322,0.8220,-2.0000],
[0.3141,-1.1450,-1.2237,0.9376,-2.0000],
[0.3046,-1.0839,-1.3906,1.0434,-2.0000],
[0.2942,-1.0344,-1.5406,1.1439,-2.0000],
[0.2942,-0.7038,-1.6677,0.9404,-2.0000],
[-0.0000,-0.7607,-1.5402,0.8698,-2.0000]]

puntos_eq=[[0.5028,-0.6391,-1.8171,1.0250,-2.0000],
[0.5028,-0.9923,-1.6879,1.2491,-2.0000],
[0.5028,-0.6391,-1.8171,1.0250,-2.0000],
[0.3536,-0.6760,-1.7313,0.9761,-2.0000],
[0.3536,-1.0155,-1.6036,1.1879,-2.0000],
[0.3536,-0.6760,-1.7313,0.9761,-2.0000],
[0.3484,-0.9011,-1.2355,0.7055,-2.0000],
[0.3484,-1.1945,-1.0973,0.8607,-2.0000],
[0.3484,-0.9011,-1.2355,0.7055,-2.0000],
[0.4652,-1.0205,-0.9835,0.5729,-2.0000],
[0.4652,-1.3101,-0.8216,0.7005,-2.0000],
[0.4652,-1.0205,-0.9835,0.5729,-2.0000],
[0.5605,-0.8294,-1.3899,0.7881,-2.0000],
[0.5605,-1.1317,-1.2588,0.9594,-2.0000],
[0.5605,-0.8294,-1.3899,0.7881,-2.0000],
[-0.0000,-0.7607,-1.5402,0.8698,-2.0000]]

dibujo=[[0.8989,-0.5913,-1.9317,1.0918,-2.0000],
[0.8989,-0.9758,-1.7937,1.3384,-2.0000],
[0.8621,-0.9686,-1.8308,1.3683,-2.0000],
[0.8182,-0.9729,-1.8082,1.3500,-2.0000],
[0.7864,-0.9774,-1.7859,1.3322,-2.0000],
[0.7605,-0.9714,-1.8163,1.3565,-2.0000],
[0.7246,-0.9612,-1.8741,1.4042,-2.0000],
[0.6815,-0.9592,-1.8878,1.4158,-2.0000],
[0.6544,-0.9699,-1.8239,1.3627,-2.0000],
[0.6534,-0.9933,-1.7156,1.2777,-2.0000],
[0.6598,-1.0182,-1.6202,1.2073,-2.0000],
[0.6499,-1.0373,-1.5547,1.1608,-2.0000],
[0.6229,-1.0604,-1.4808,1.1100,-2.0000],
[0.6031,-1.0981,-1.3689,1.0358,-2.0000],
[0.6116,-1.1404,-1.2522,0.9614,-2.0000],
[0.6436,-1.1654,-1.1863,0.9206,-2.0000],
[0.6774,-1.1734,-1.1657,0.9079,-2.0000],
[0.6970,-1.1920,-1.1184,0.8792,-2.0000],
[0.7072,-1.2449,-0.9879,0.8017,-2.0000],
[0.7233,-1.3220,-0.8067,0.6975,-2.0000],
[0.7498,-1.3619,-0.7160,0.6467,-2.0000],
[0.7777,-1.3189,-0.8138,0.7015,-2.0000],
[0.7979,-1.2497,-0.9764,0.7949,-2.0000],
[0.8141,-1.2118,-1.0689,0.8495,-2.0000],
[0.8390,-1.2104,-1.0724,0.8516,-2.0000],
[0.8742,-1.2149,-1.0612,0.8450,-2.0000],
[0.9044,-1.1902,-1.1230,0.8820,-2.0000],
[0.9118,-1.1391,-1.2558,0.9637,-2.0000],
[0.8963,-1.0921,-1.3860,1.0470,-2.0000],
[0.8801,-1.0622,-1.4750,1.1061,-2.0000],
[0.8837,-1.0383,-1.5514,1.1585,-2.0000],
[0.9012,-1.0098,-1.6509,1.2295,-2.0000],
[0.9060,-0.9833,-1.7586,1.3107,-2.0000],
[0.8989,-0.5913,-1.9317,1.0918,-2.0000],
[-0.0000,-0.7607,-1.5402,0.8698,-2.0000]]

dejar_marcador=[]



def ir_a_punto(q, pub):	
    state = JointTrajectory()
    state.header.stamp = rospy.Time.now()
    state.joint_names = ["joint_1", "joint_2", "joint_3", "joint_4", "joint_5"]
    point = JointTrajectoryPoint()
    point.positions = [q[0], q[1], q[2], q[3], q[4]]    
    point.time_from_start = rospy.Duration(0.05)
    state.points.append(point)
    pub.publish(state)
    #print('published command')
    rospy.sleep(0.7)
    
def hacer_trayectoria(puntos,pub):
    for i in puntos:
        ir_a_punto(i,pub)


def joint_publisher():
    pub = rospy.Publisher('/joint_trajectory', JointTrajectory, queue_size=0)
    rospy.init_node('joint_publisher', anonymous=False)
    
    while not rospy.is_shutdown():
        key='0'
        key=input()
        if key=='1':
            print('Home')
            hacer_trayectoria(home,pub)
        elif key=='2':
            print('Tomando marcador')
            hacer_trayectoria(tomar_marcador,pub)
            print('Marcador tomado')
        elif key=='3':
            print('Dibujando espacio de trabajo')
            hacer_trayectoria(espacio_trabajo,pub)
            print('Espacio de trabajo dibujado')
        elif key=='4':
            print('Escribiendo iniciales')
            hacer_trayectoria(letras,pub)
            print('Iniciales escritas')
        elif key=='5':
            print('Dibujando figuras')
            hacer_trayectoria(figuras,pub)
            print('Figuras dibujadas')
        elif key=='6':
            print('Haciendo puntos equidistantes')
            hacer_trayectoria(puntos_eq,pub)
            print('Puntos dibujados')
        elif key=='7':
            print('Haciendo trebol')
            hacer_trayectoria(dibujo,pub)
            print('Trebol dibujado')
        elif key=='8':
            print('Dejando marcador')
            hacer_trayectoria(dejar_marcador,pub)
            print('Marcador dejado')
        

if __name__ == '__main__':
    try:
        joint_publisher()
    except rospy.ROSInterruptException:
        pass
